filter(INDICE>101 | GRUPO == "Privado_Registrado")
rm(list=ls())
library(tidyverse)
INDICE  <- c(100,   100,   100,
101.8, 101.2, 100.73,
102.9, 102.4, 103.2)
FECHA  <-  c("Oct-16", "Oct-16", "Oct-16",
"Nov-16", "Nov-16", "Nov-16",
"Dic-16", "Dic-16", "Dic-16")
GRUPO  <-  c("Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado")
Datos <- data.frame(INDICE, FECHA, GRUPO)
Datos %>%
filter(INDICE>101 , GRUPO == "Privado_Registrado")
Datos %>%
filter(INDICE>101 | GRUPO == "Privado_Registrado")
Datos %>%
rename(Periodo = FECHA)
Datos <- Datos %>%
mutate(Doble=INDICE*2)
Datos
Datos <- Datos %>%
mutate(Caso_cuando = case_when(GRUPO == "Privado_Registrado"   ~ INDICE*2,
GRUPO == "Público"              ~ INDICE*3,
GRUPO == "Privado_No_Registrado"~ INDICE*5))
Datos
Datos2 <- Datos %>%
select(INDICE, FECHA, GRUPO)
Datos2
Datos <- Datos %>%
select(-c(Doble,Caso_cuando))
Datos
Datos <- Datos %>%
arrange(GRUPO, INDICE)
Datos
Datos %>%
summarise(Indprom = mean(INDICE))
Datos %>%
group_by(FECHA) %>%
summarise(Indprom = mean(INDICE))
Ponderadores <- data.frame(GRUPO = c("Privado_Registrado","Público","Privado_No_Registrado"),
PONDERADOR = c(50.16,29.91,19.93))
Datos_join <- Datos %>%
left_join(.,Ponderadores, by = "GRUPO")
Datos_join
Datos_Indice_Gral <- Datos_join %>%
group_by(FECHA) %>%
summarise(Indice_Gral = weighted.mean(INDICE,w = PONDERADOR))
Datos_Indice_Gral
#Utilzamos un conjunto de datos que viene con la librería datasets
library(datasets)
data(iris)
iris <- iris %>%
mutate(id = 1:nrow(.)) %>%  #le agrego un ID
select(id, everything()) # lo acomodo para que el id este primero.
iris
iris_vertical <- iris %>% gather(., # el . llama a lo que esta atras del %>%
key   = Variables,
value = Valores,
2:5) #le indico que columnas juntar
iris_vertical
iris_horizontal <- iris_vertical %>%
spread(. ,
key   = Variables, #la llave es la variable que va a dar los nombres de columna
value = Valores) #los valores con que se llenan las celdas
iris_horizontal
rm(list=ls())
library(tidyverse)
INDICE  <- c(100,   100,   100,
101.8, 101.2, 100.73,
102.9, 102.4, 103.2)
FECHA  <-  c("Oct-16", "Oct-16", "Oct-16",
"Nov-16", "Nov-16", "Nov-16",
"Dic-16", "Dic-16", "Dic-16")
GRUPO  <-  c("Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado")
Datos <- data.frame(INDICE, FECHA, GRUPO)
Datos %>%
filter(INDICE>101 , GRUPO == "Privado_Registrado")
Datos %>%
filter(INDICE>101 | GRUPO == "Privado_Registrado")
Datos %>%
rename(Periodo = FECHA)
Datos <- Datos %>%
mutate(Doble=INDICE*2)
Datos
Datos <- Datos %>%
mutate(Caso_cuando = case_when(GRUPO == "Privado_Registrado"   ~ INDICE*2,
GRUPO == "Público"              ~ INDICE*3,
GRUPO == "Privado_No_Registrado"~ INDICE*5))
Datos
Datos2 <- Datos %>%
select(INDICE, FECHA, GRUPO)
Datos2
Datos <- Datos %>%
select(-c(Doble,Caso_cuando))
Datos
Datos <- Datos %>%
arrange(GRUPO, INDICE)
Datos
Datos %>%
summarise(Indprom = mean(INDICE))
Datos %>%
group_by(FECHA) %>%
summarise(Indprom = mean(INDICE))
Ponderadores <- data.frame(GRUPO = c("Privado_Registrado","Público","Privado_No_Registrado"),
PONDERADOR = c(50.16,29.91,19.93))
Datos_join <- Datos %>%
left_join(.,Ponderadores, by = "GRUPO")
Datos_join
Datos_Indice_Gral <- Datos_join %>%
group_by(FECHA) %>%
summarise(Indice_Gral = weighted.mean(INDICE,w = PONDERADOR))
Datos_Indice_Gral
#Utilzamos un conjunto de datos que viene con la librería datasets
library(datasets)
data(iris)
iris <- iris %>%
mutate(id = 1:nrow(.)) %>%  #le agrego un ID
select(id, everything()) # lo acomodo para que el id este primero.
iris
iris_vertical <- iris %>% gather(., # el . llama a lo que esta atras del %>%
key   = Variables,
value = Valores,
2:5) #le indico que columnas juntar
iris_vertical
iris_horizontal <- iris_vertical %>%
spread(. ,
key   = Variables, #la llave es la variable que va a dar los nombres de columna
value = Valores) #los valores con que se llenan las celdas
iris_horizontal
rm(list=ls())
library(tidyverse)
INDICE  <- c(100,   100,   100,
101.8, 101.2, 100.73,
102.9, 102.4, 103.2)
FECHA  <-  c("Oct-16", "Oct-16", "Oct-16",
"Nov-16", "Nov-16", "Nov-16",
"Dic-16", "Dic-16", "Dic-16")
GRUPO  <-  c("Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado")
Datos <- data.frame(INDICE, FECHA, GRUPO)
Datos %>%
filter(INDICE>101 , GRUPO == "Privado_Registrado")
Datos %>%
filter(INDICE>101 | GRUPO == "Privado_Registrado")
Datos %>%
rename(Periodo = FECHA)
Datos <- Datos %>%
mutate(Doble=INDICE*2)
Datos
Datos <- Datos %>%
mutate(Caso_cuando = case_when(GRUPO == "Privado_Registrado"   ~ INDICE*2,
GRUPO == "Público"              ~ INDICE*3,
GRUPO == "Privado_No_Registrado"~ INDICE*5))
Datos
Datos2 <- Datos %>%
select(INDICE, FECHA, GRUPO)
Datos2
Datos <- Datos %>%
select(-c(Doble,Caso_cuando))
Datos
Datos <- Datos %>%
arrange(GRUPO, INDICE)
Datos
Datos %>%
summarise(Indprom = mean(INDICE))
Datos %>%
group_by(FECHA) %>%
summarise(Indprom = mean(INDICE))
rm(list=ls())
library(tidyverse)
INDICE  <- c(100,   100,   100,
101.8, 101.2, 100.73,
102.9, 102.4, 103.2)
FECHA  <-  c("Oct-16", "Oct-16", "Oct-16",
"Nov-16", "Nov-16", "Nov-16",
"Dic-16", "Dic-16", "Dic-16")
GRUPO  <-  c("Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado")
Datos <- data.frame(INDICE, FECHA, GRUPO)
Datos %>%
filter(INDICE>101 , GRUPO == "Privado_Registrado")
Datos %>%
filter(INDICE>101 | GRUPO == "Privado_Registrado")
Datos %>%
rename(Periodo = FECHA)
Datos <- Datos %>%
mutate(Doble=INDICE*2)
Datos
Datos <- Datos %>%
mutate(Caso_cuando = case_when(GRUPO == "Privado_Registrado"   ~ INDICE*2,
GRUPO == "Público"              ~ INDICE*3,
GRUPO == "Privado_No_Registrado"~ INDICE*5))
Datos
Datos2 <- Datos %>%
select(INDICE, FECHA, GRUPO)
Datos2
Datos <- Datos %>%
select(-c(Doble,Caso_cuando))
Datos
Datos <- Datos %>%
arrange(GRUPO, INDICE)
Datos
Datos %>%
summarise(Indprom = mean(INDICE))
Datos %>%
group_by(FECHA) %>%
summarise(Indprom = mean(INDICE))
Ponderadores <- data.frame(GRUPO = c("Privado_Registrado","Público","Privado_No_Registrado"),
PONDERADOR = c(50.16,29.91,19.93))
Datos_join <- Datos %>%
left_join(.,Ponderadores, by = "GRUPO")
Datos_join
Datos_Indice_Gral <- Datos_join %>%
group_by(FECHA) %>%
summarise(Indice_Gral = weighted.mean(INDICE,w = PONDERADOR))
Datos_Indice_Gral
#Utilzamos un conjunto de datos que viene con la librería datasets
library(datasets)
data(iris)
iris <- iris %>%
mutate(id = 1:nrow(.)) %>%  #le agrego un ID
select(id, everything()) # lo acomodo para que el id este primero.
iris
iris_vertical <- iris %>% gather(., # el . llama a lo que esta atras del %>%
key   = Variables,
value = Valores,
2:5) #le indico que columnas juntar
iris_vertical
iris_horizontal <- iris_vertical %>%
spread(. ,
key   = Variables, #la llave es la variable que va a dar los nombres de columna
value = Valores) #los valores con que se llenan las celdas
iris_horizontal
rm(list=ls())
A <- 1
A
B = 2
B
A <- B
A   #Ahora A toma el valor de B, y B continua conservando el mismo valor
B
A = 1
B = 2
A >  B
A >= B
A <  B
A <= B
A == B
A != B
C <- A != B
C
#suma
A <- 5+6
A
#Resta
B <- 6-8
B
#cociente
C <- 6/2.5
C
#multiplicacion
D <- 6*2.5
D
A <- 1
class(A)
typeof(A)
class(A) <- "nueva_clase"
class(A)
typeof(A) <- "nuevo_tipo"
rm(list=ls())
A <- 1
A
B = 2
B
A <- B
A   #Ahora A toma el valor de B, y B continua conservando el mismo valor
B
A = 1
B = 2
A >  B
A >= B
A <  B
A <= B
A == B
A != B
C <- A != B
C
#suma
A <- 5+6
A
#Resta
B <- 6-8
B
#cociente
C <- 6/2.5
C
#multiplicacion
D <- 6*2.5
D
A <- 1
class(A)
typeof(A)
class(A) <- "nueva_clase"
class(A)
typeof(A) <- "nuevo_tipo"
A <- 1L
A
class(A)
typeof(A)
A <- 2+2i
A
class(A)
typeof(A)
A <-  paste('Soy', 'una', 'concatenación', 'de', 'caracteres', sep = " ")
A
class(A)
typeof(A)
A <- factor("Soy un factor con niveles fijos")
A
class(A)
typeof(A)
A <- factor(c("R","Weka","SPSS","SAS","R"))
A
class(A)
typeof(A)
# ¿Cuále son sus niveles?
levels(A)
# ¿Está ordenado?
is.ordered(A)
A <- factor(c("R","Weka","SPSS","SAS","R"), ordered = TRUE)
A
class(A)
typeof(A)
# ¿Cuáles son sus niveles?
levels(A)
# ¿Está ordenado?
is.ordered(A)
# ¿Podemos cambiar el orden de los niveles?
A <- factor(c("R","Weka","SPSS","SAS","R"), ordered = TRUE, levels = c("SPSS","SAS","Weka","R"))
A
A <- TRUE
class(A)
typeof(A)
A <- as.Date("2017-01-01")
class(A)
typeof(A)
C <- c(1, 3, 4)
C
typeof(C)
class(C)
# ¿Qué longitud tiene?
length(C)
# ¿Cuáles son sus dimensiones?
dim(C)
C <- C + 2
C
D <- C + 1:3 #esto es equivalente a hacer 3+1, 5+2, 6+9
D
v1 <- c(10,20,30,40,50,60)
v2 <- c(1,2,3)
v3 <- v1 + v2
v3
# ¿Qué pasa si el vector más pequeño no es multiplo del más grande?
v2 <- c(1,2,3,4)
v3 <- v1 + v2
v3
E <- c("Julia","Hadley","Guido")
E
elemento2 <- E[2]
elemento2
rm(elemento2)
elemento2
E[2] <- "Pablo"
E
# Esta forma de construir la matriz es por columnas por default
M <- matrix(1:9, nrow = 3, ncol = 3)
M
typeof(M)
class(M)
# ¿Qué longitud tiene?
length(M)
# ¿Cuáles son sus dimensiones?
dim(M)
v1 <- c(1,2,3)
v2 <- c(4,5,6)
# Creamos la matriz uniendo los dos vectores con rbind()
M <- rbind(v1,v2)
M
typeof(M)
class(M)
# ¿Qué longitud tiene?
length(M)
# ¿Cuáles son sus dimensiones?
dim(M)
# ¿Qué pasa si queremos sumar una fila con otro tipo de datos?
v3 <- c("a","b","c")
M <- rbind(M,v3)
M
typeof(M)
class(M)
INDICE  <- c(100,   100,   100,
101.8, 101.2, 100.73,
102.9, 102.4, 103.2)
FECHA  <-  c("Oct-16", "Oct-16", "Oct-16",
"Nov-16", "Nov-16", "Nov-16",
"Dic-16", "Dic-16", "Dic-16")
GRUPO  <-  c("Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado",
"Privado_Registrado","Público","Privado_No_Registrado")
Datos <- data.frame(INDICE, FECHA, GRUPO)
Datos
Datos$FECHA
Datos[3,2]
Datos$FECHA[3]
Datos$FECHA[3,2]
superlista <- list(A,B,C,D,E,FECHA, DF = Datos, INDICE, GRUPO)
superlista
superlista$DF$FECHA[2]
for(i in 1:10){
Cuadrados<- i^2
print(Cuadrados)
}
Datos
unique(Datos$GRUPO)
for(variable in unique(Datos$GRUPO)){
print(Datos[Datos$GRUPO == variable,])
}
A
resultado <- ifelse(test = class(A) == "character", yes =  paste0("Esto es un caracter"),
no = paste0("Esto no era un caracter"))
resultado
funcion_prueba <- function(a,b) {
print(paste(a, b, sep = " "))
}
funcion_prueba(a = "soy la primera parte de un string.", b = "Y yo la segunda parte")
funcion_prueba <- function(a = "Soy una primera parte default.",b) {
print(paste(a, b, sep = " "))
}
funcion_prueba(b = "  A mi no me defaulteas")
x <- 1:15
y <- list(a = 1, b = TRUE, c = "oops")
#Para guardar
save(x, y, file = "xy.RData")
#Para leer
load('xy.RData')
x
saveRDS(x, "x.RDS")
Z <- readRDS("x.RDS")
Z
individual_t117 <- read.table('//NE18106/Trabajos/Curso R/Fuentes/usu_individual_t117.txt',sep=";", dec=",", header = TRUE, fill = TRUE)
individual_t117 <- read.table('Fuentes/usu_individual_t117.txt',sep=";", dec=",", header = TRUE, fill = TRUE)
individual_t117
#View(individual_t117)
names(individual_t117)
summary(individual_t117)[,c(8,10,31,133)]
head(individual_t117)[,1:5]
# install.packages("xlsx") # por única vez
library(xlsx) #activamos la librería
#creamos una tabla cualquiera de prueba
x <- 1:10
y <- 11:20
tabla_de_R <- data.frame(x,y)
# escribimos el archivo
write.xlsx( x = tabla_de_R, file = "archivo.xlsx",sheetName = "hoja 1",row.names = FALSE)
#leemos el archivo
tabla <- read.xlsx(file = "archivo.xlsx",sheetName = "hoja 1")
tabla
#install.packages(rstudioapi)
script.dir <- paste0(dirname(rstudioapi::getActiveDocumentContext()$path),"/")
bases.dir  <-  paste0(dirname(script.dir),"/Fuentes/")
#dir.create(bases.dir)
resultados.dir <- paste0(dirname(script.dir),"/Resultados/")
#dir.create(resultados.dir)
#chequeo
dir.exists(bases.dir)
dir.exists(resultados.dir)
bases.dir
#install.packages(rstudioapi)
script.dir <- paste0(dirname(rstudioapi::getActiveDocumentContext()$path),"/")
bases.dir  <-  paste0(dirname(script.dir),"/Fuentes/")
#dir.create(bases.dir)
resultados.dir <- paste0(dirname(script.dir),"/Resultados/")
#dir.create(resultados.dir)
#chequeo
dir.exists(bases.dir)
dir.exists(resultados.dir)
resultados.dir
#install.packages(rstudioapi)
script.dir <- paste0(dirname(rstudioapi::getActiveDocumentContext()$path),"/")
bases.dir  <-  paste0(dirname(script.dir),"/Fuentes/")
#dir.create(bases.dir)
resultados.dir <- paste0(dirname(script.dir),"/Resultados/")
#dir.create(resultados.dir)
#chequeo
dir.exists(bases.dir)
dir.exists(resultados.dir)
#install.packages(rstudioapi) # SOLO LA PRIMERA VEZ
script.dir <- paste0(dirname(rstudioapi::getActiveDocumentContext()$path),"/")
script.dir
bases.dir  <-  paste0(dirname(script.dir),"/Fuentes/")
bases.dir
dir.create(bases.dir)
resultados.dir <- paste0(dirname(script.dir),"/Resultados/")
resultados.dir
dir.create(resultados.dir)
dir.exists(bases.dir)
